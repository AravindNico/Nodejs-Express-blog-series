'use strict';

var util = require('util');

var AERROR_TYPES = {
  unspecified: {
    msg: 'Unspecified error ->'
  },
  'model.tablecreation.invalidname': {
    msg: 'Table names only allow alphanumeric and _ and must start with a letter, got %s'
  },
  'model.tablecreation.dbschemaquery': {
    msg: 'Error while retrieveing Schema of DB Table "%s"'
  },
  'model.tablecreation.schemamismatch': {
    msg: 'Given Schema does not match existing DB Table "%s"'
  },
  'model.tablecreation.dbdrop': {
    msg: 'Error during drop of DB Table -> %s'
  },
  'model.tablecreation.dbcreate': {
    msg: 'Error during creation of DB Table -> %s'
  },
  'model.tablecreation.dbalter': {
    msg: 'Error during altering of DB Table -> %s'
  },
  'model.tablecreation.dbindex': {
    msg: 'Error during creation of index on DB Table -> %s'
  },
  'model.tablecreation.matview': {
    msg: 'Error during creation of materialized view on DB Table -> %s'
  },
  'model.value.invalidvalue': {
    msg: 'Invalid Value: "%s" for Field: %s (Type: %s)'
  },
  'model.find.invalidrelob': {
    msg: 'Invalid field relation object: key -> "%s" with value -> "%s"'
  },
  'model.find.multiop': {
    msg: 'Invalid field relation: only one operator allowed'
  },
  'model.find.invalidop': {
    msg: 'Invalid field relation: unknown operator: "%s"'
  },
  'model.find.invalidexpr': {
    msg: '$expr must be an object containing the index name as string and query as string.'
  },
  'model.find.invalidsolrquery': {
    msg: '$solr_query must be a string containing the query for solr.'
  },
  'model.find.multiorder': {
    msg: 'Invalid order by: only one clause per object'
  },
  'model.find.invalidordertype': {
    msg: 'Invalid order. Allowed :$asc, $desc. Got "%s"'
  },
  'model.find.invalidorder': {
    msg: 'Invalid order. Must be an object'
  },
  'model.find.limittype': {
    msg: 'Invalid limit value'
  },
  'model.find.invalidinop': {
    msg: 'Invalid IN query operator. Must be an array'
  },
  'model.find.invalidtoken': {
    msg: 'Invalid token. Must be an object with operator values'
  },
  'model.find.dberror': {
    msg: 'Error during find query on DB -> %s'
  },
  'model.save.unsetkey': {
    msg: 'Key Field: %s must have a value'
  },
  'model.save.unsetrequired': {
    msg: 'Required Field: %s must have a value'
  },
  'model.save.invalidvalue': {
    msg: 'Invalid Value: "%s" for Field: %s (Type: %s)'
  },
  'model.save.invaliddefaultvalue': {
    msg: 'Invalid Default value: "%s" for Field: %s (Type: %s)'
  },
  'model.save.dberror': {
    msg: 'Error during save query on DB -> %s'
  },
  'model.save.before.error': {
    msg: 'Error in before_save lifecycle function -> %s'
  },
  'model.save.after.error': {
    msg: 'Error in after_save lifecycle function -> %s'
  },
  'model.update.unsetkey': {
    msg: 'Key Field: %s must have a value'
  },
  'model.update.unsetrequired': {
    msg: 'Required Field: %s must have a value'
  },
  'model.update.invalidvalue': {
    msg: 'Invalid Value: "%s" for Field: %s'
  },
  'model.update.invaliddefaultvalue': {
    msg: 'Invalid Default value: "%s" for Field: %s (Type: %s)'
  },
  'model.update.dberror': {
    msg: 'Error during update query on DB -> %s'
  },
  'model.update.before.error': {
    msg: 'Error in before_update lifecycle function -> %s'
  },
  'model.update.after.error': {
    msg: 'Error in after_update lifecycle function -> %s'
  },
  'model.delete.invalidvalue': {
    msg: 'Invalid Value: "%s" for Field: %s (Type: %s)'
  },
  'model.delete.dberror': {
    msg: 'Error during delete query on DB -> %s'
  },
  'model.delete.before.error': {
    msg: 'Error in before_delete lifecycle function -> %s'
  },
  'model.delete.after.error': {
    msg: 'Error in after_delete lifecycle function -> %s'
  }
};

var ERR_NAME_PREFIX = 'apollo';

var buildError = function f() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var argsarray = args;
  var name = argsarray.length ? argsarray.shift() : '_none_given_';

  var errorTemplate = AERROR_TYPES[name] || AERROR_TYPES.unspecified;
  var errorMsg = argsarray.length ? util.format.apply(this, [errorTemplate.msg].concat(argsarray)) : errorTemplate.msg;

  var error = new Error(errorMsg);
  error.name = (ERR_NAME_PREFIX ? util.format('%s.', ERR_NAME_PREFIX) : '') + name;

  return error;
};

module.exports = buildError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcm0vYXBvbGxvX2Vycm9yLmpzIl0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwiQUVSUk9SX1RZUEVTIiwidW5zcGVjaWZpZWQiLCJtc2ciLCJFUlJfTkFNRV9QUkVGSVgiLCJidWlsZEVycm9yIiwiZiIsImFyZ3MiLCJhcmdzYXJyYXkiLCJuYW1lIiwibGVuZ3RoIiwic2hpZnQiLCJlcnJvclRlbXBsYXRlIiwiZXJyb3JNc2ciLCJmb3JtYXQiLCJhcHBseSIsImNvbmNhdCIsImVycm9yIiwiRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE9BQU9DLFFBQVEsTUFBUixDQUFiOztBQUVBLElBQU1DLGVBQWU7QUFDbkJDLGVBQWE7QUFDWEMsU0FBSztBQURNLEdBRE07QUFJbkIscUNBQW1DO0FBQ2pDQSxTQUFLO0FBRDRCLEdBSmhCO0FBT25CLHVDQUFxQztBQUNuQ0EsU0FBSztBQUQ4QixHQVBsQjtBQVVuQix3Q0FBc0M7QUFDcENBLFNBQUs7QUFEK0IsR0FWbkI7QUFhbkIsZ0NBQThCO0FBQzVCQSxTQUFLO0FBRHVCLEdBYlg7QUFnQm5CLGtDQUFnQztBQUM5QkEsU0FBSztBQUR5QixHQWhCYjtBQW1CbkIsaUNBQStCO0FBQzdCQSxTQUFLO0FBRHdCLEdBbkJaO0FBc0JuQixpQ0FBK0I7QUFDN0JBLFNBQUs7QUFEd0IsR0F0Qlo7QUF5Qm5CLGlDQUErQjtBQUM3QkEsU0FBSztBQUR3QixHQXpCWjtBQTRCbkIsOEJBQTRCO0FBQzFCQSxTQUFLO0FBRHFCLEdBNUJUO0FBK0JuQiw2QkFBMkI7QUFDekJBLFNBQUs7QUFEb0IsR0EvQlI7QUFrQ25CLHdCQUFzQjtBQUNwQkEsU0FBSztBQURlLEdBbENIO0FBcUNuQiwwQkFBd0I7QUFDdEJBLFNBQUs7QUFEaUIsR0FyQ0w7QUF3Q25CLDRCQUEwQjtBQUN4QkEsU0FBSztBQURtQixHQXhDUDtBQTJDbkIsaUNBQStCO0FBQzdCQSxTQUFLO0FBRHdCLEdBM0NaO0FBOENuQiwyQkFBeUI7QUFDdkJBLFNBQUs7QUFEa0IsR0E5Q047QUFpRG5CLGlDQUErQjtBQUM3QkEsU0FBSztBQUR3QixHQWpEWjtBQW9EbkIsNkJBQTJCO0FBQ3pCQSxTQUFLO0FBRG9CLEdBcERSO0FBdURuQiwwQkFBd0I7QUFDdEJBLFNBQUs7QUFEaUIsR0F2REw7QUEwRG5CLDRCQUEwQjtBQUN4QkEsU0FBSztBQURtQixHQTFEUDtBQTZEbkIsNkJBQTJCO0FBQ3pCQSxTQUFLO0FBRG9CLEdBN0RSO0FBZ0VuQix3QkFBc0I7QUFDcEJBLFNBQUs7QUFEZSxHQWhFSDtBQW1FbkIseUJBQXVCO0FBQ3JCQSxTQUFLO0FBRGdCLEdBbkVKO0FBc0VuQiw4QkFBNEI7QUFDMUJBLFNBQUs7QUFEcUIsR0F0RVQ7QUF5RW5CLDZCQUEyQjtBQUN6QkEsU0FBSztBQURvQixHQXpFUjtBQTRFbkIsb0NBQWtDO0FBQ2hDQSxTQUFLO0FBRDJCLEdBNUVmO0FBK0VuQix3QkFBc0I7QUFDcEJBLFNBQUs7QUFEZSxHQS9FSDtBQWtGbkIsNkJBQTJCO0FBQ3pCQSxTQUFLO0FBRG9CLEdBbEZSO0FBcUZuQiw0QkFBMEI7QUFDeEJBLFNBQUs7QUFEbUIsR0FyRlA7QUF3Rm5CLDJCQUF5QjtBQUN2QkEsU0FBSztBQURrQixHQXhGTjtBQTJGbkIsZ0NBQThCO0FBQzVCQSxTQUFLO0FBRHVCLEdBM0ZYO0FBOEZuQiwrQkFBNkI7QUFDM0JBLFNBQUs7QUFEc0IsR0E5RlY7QUFpR25CLHNDQUFvQztBQUNsQ0EsU0FBSztBQUQ2QixHQWpHakI7QUFvR25CLDBCQUF3QjtBQUN0QkEsU0FBSztBQURpQixHQXBHTDtBQXVHbkIsK0JBQTZCO0FBQzNCQSxTQUFLO0FBRHNCLEdBdkdWO0FBMEduQiw4QkFBNEI7QUFDMUJBLFNBQUs7QUFEcUIsR0ExR1Q7QUE2R25CLCtCQUE2QjtBQUMzQkEsU0FBSztBQURzQixHQTdHVjtBQWdIbkIsMEJBQXdCO0FBQ3RCQSxTQUFLO0FBRGlCLEdBaEhMO0FBbUhuQiwrQkFBNkI7QUFDM0JBLFNBQUs7QUFEc0IsR0FuSFY7QUFzSG5CLDhCQUE0QjtBQUMxQkEsU0FBSztBQURxQjtBQXRIVCxDQUFyQjs7QUEySEEsSUFBTUMsa0JBQWtCLFFBQXhCOztBQUVBLElBQU1DLGFBQWEsU0FBU0MsQ0FBVCxHQUFvQjtBQUFBLG9DQUFOQyxJQUFNO0FBQU5BLFFBQU07QUFBQTs7QUFDckMsTUFBTUMsWUFBWUQsSUFBbEI7QUFDQSxNQUFNRSxPQUFPRCxVQUFVRSxNQUFWLEdBQW1CRixVQUFVRyxLQUFWLEVBQW5CLEdBQXVDLGNBQXBEOztBQUVBLE1BQU1DLGdCQUFnQlgsYUFBYVEsSUFBYixLQUFzQlIsYUFBYUMsV0FBekQ7QUFDQSxNQUFNVyxXQUFXTCxVQUFVRSxNQUFWLEdBQ2ZYLEtBQUtlLE1BQUwsQ0FBWUMsS0FBWixDQUFrQixJQUFsQixFQUF3QixDQUFDSCxjQUFjVCxHQUFmLEVBQW9CYSxNQUFwQixDQUEyQlIsU0FBM0IsQ0FBeEIsQ0FEZSxHQUVmSSxjQUFjVCxHQUZoQjs7QUFJQSxNQUFNYyxRQUFRLElBQUlDLEtBQUosQ0FBVUwsUUFBVixDQUFkO0FBQ0FJLFFBQU1SLElBQU4sR0FBYSxDQUFDTCxrQkFBa0JMLEtBQUtlLE1BQUwsQ0FBWSxLQUFaLEVBQW1CVixlQUFuQixDQUFsQixHQUF3RCxFQUF6RCxJQUErREssSUFBNUU7O0FBRUEsU0FBT1EsS0FBUDtBQUNELENBYkQ7O0FBZUFFLE9BQU9DLE9BQVAsR0FBaUJmLFVBQWpCIiwiZmlsZSI6ImFwb2xsb19lcnJvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbmNvbnN0IEFFUlJPUl9UWVBFUyA9IHtcbiAgdW5zcGVjaWZpZWQ6IHtcbiAgICBtc2c6ICdVbnNwZWNpZmllZCBlcnJvciAtPicsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLmludmFsaWRuYW1lJzoge1xuICAgIG1zZzogJ1RhYmxlIG5hbWVzIG9ubHkgYWxsb3cgYWxwaGFudW1lcmljIGFuZCBfIGFuZCBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIsIGdvdCAlcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLmRic2NoZW1hcXVlcnknOiB7XG4gICAgbXNnOiAnRXJyb3Igd2hpbGUgcmV0cmlldmVpbmcgU2NoZW1hIG9mIERCIFRhYmxlIFwiJXNcIicsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLnNjaGVtYW1pc21hdGNoJzoge1xuICAgIG1zZzogJ0dpdmVuIFNjaGVtYSBkb2VzIG5vdCBtYXRjaCBleGlzdGluZyBEQiBUYWJsZSBcIiVzXCInLFxuICB9LFxuICAnbW9kZWwudGFibGVjcmVhdGlvbi5kYmRyb3AnOiB7XG4gICAgbXNnOiAnRXJyb3IgZHVyaW5nIGRyb3Agb2YgREIgVGFibGUgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudGFibGVjcmVhdGlvbi5kYmNyZWF0ZSc6IHtcbiAgICBtc2c6ICdFcnJvciBkdXJpbmcgY3JlYXRpb24gb2YgREIgVGFibGUgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudGFibGVjcmVhdGlvbi5kYmFsdGVyJzoge1xuICAgIG1zZzogJ0Vycm9yIGR1cmluZyBhbHRlcmluZyBvZiBEQiBUYWJsZSAtPiAlcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLmRiaW5kZXgnOiB7XG4gICAgbXNnOiAnRXJyb3IgZHVyaW5nIGNyZWF0aW9uIG9mIGluZGV4IG9uIERCIFRhYmxlIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnRhYmxlY3JlYXRpb24ubWF0dmlldyc6IHtcbiAgICBtc2c6ICdFcnJvciBkdXJpbmcgY3JlYXRpb24gb2YgbWF0ZXJpYWxpemVkIHZpZXcgb24gREIgVGFibGUgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudmFsdWUuaW52YWxpZHZhbHVlJzoge1xuICAgIG1zZzogJ0ludmFsaWQgVmFsdWU6IFwiJXNcIiBmb3IgRmllbGQ6ICVzIChUeXBlOiAlcyknLFxuICB9LFxuICAnbW9kZWwuZmluZC5pbnZhbGlkcmVsb2InOiB7XG4gICAgbXNnOiAnSW52YWxpZCBmaWVsZCByZWxhdGlvbiBvYmplY3Q6IGtleSAtPiBcIiVzXCIgd2l0aCB2YWx1ZSAtPiBcIiVzXCInLFxuICB9LFxuICAnbW9kZWwuZmluZC5tdWx0aW9wJzoge1xuICAgIG1zZzogJ0ludmFsaWQgZmllbGQgcmVsYXRpb246IG9ubHkgb25lIG9wZXJhdG9yIGFsbG93ZWQnLFxuICB9LFxuICAnbW9kZWwuZmluZC5pbnZhbGlkb3AnOiB7XG4gICAgbXNnOiAnSW52YWxpZCBmaWVsZCByZWxhdGlvbjogdW5rbm93biBvcGVyYXRvcjogXCIlc1wiJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZGV4cHInOiB7XG4gICAgbXNnOiAnJGV4cHIgbXVzdCBiZSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgaW5kZXggbmFtZSBhcyBzdHJpbmcgYW5kIHF1ZXJ5IGFzIHN0cmluZy4nLFxuICB9LFxuICAnbW9kZWwuZmluZC5pbnZhbGlkc29scnF1ZXJ5Jzoge1xuICAgIG1zZzogJyRzb2xyX3F1ZXJ5IG11c3QgYmUgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgcXVlcnkgZm9yIHNvbHIuJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQubXVsdGlvcmRlcic6IHtcbiAgICBtc2c6ICdJbnZhbGlkIG9yZGVyIGJ5OiBvbmx5IG9uZSBjbGF1c2UgcGVyIG9iamVjdCcsXG4gIH0sXG4gICdtb2RlbC5maW5kLmludmFsaWRvcmRlcnR5cGUnOiB7XG4gICAgbXNnOiAnSW52YWxpZCBvcmRlci4gQWxsb3dlZCA6JGFzYywgJGRlc2MuIEdvdCBcIiVzXCInLFxuICB9LFxuICAnbW9kZWwuZmluZC5pbnZhbGlkb3JkZXInOiB7XG4gICAgbXNnOiAnSW52YWxpZCBvcmRlci4gTXVzdCBiZSBhbiBvYmplY3QnLFxuICB9LFxuICAnbW9kZWwuZmluZC5saW1pdHR5cGUnOiB7XG4gICAgbXNnOiAnSW52YWxpZCBsaW1pdCB2YWx1ZScsXG4gIH0sXG4gICdtb2RlbC5maW5kLmludmFsaWRpbm9wJzoge1xuICAgIG1zZzogJ0ludmFsaWQgSU4gcXVlcnkgb3BlcmF0b3IuIE11c3QgYmUgYW4gYXJyYXknLFxuICB9LFxuICAnbW9kZWwuZmluZC5pbnZhbGlkdG9rZW4nOiB7XG4gICAgbXNnOiAnSW52YWxpZCB0b2tlbi4gTXVzdCBiZSBhbiBvYmplY3Qgd2l0aCBvcGVyYXRvciB2YWx1ZXMnLFxuICB9LFxuICAnbW9kZWwuZmluZC5kYmVycm9yJzoge1xuICAgIG1zZzogJ0Vycm9yIGR1cmluZyBmaW5kIHF1ZXJ5IG9uIERCIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnNhdmUudW5zZXRrZXknOiB7XG4gICAgbXNnOiAnS2V5IEZpZWxkOiAlcyBtdXN0IGhhdmUgYSB2YWx1ZScsXG4gIH0sXG4gICdtb2RlbC5zYXZlLnVuc2V0cmVxdWlyZWQnOiB7XG4gICAgbXNnOiAnUmVxdWlyZWQgRmllbGQ6ICVzIG11c3QgaGF2ZSBhIHZhbHVlJyxcbiAgfSxcbiAgJ21vZGVsLnNhdmUuaW52YWxpZHZhbHVlJzoge1xuICAgIG1zZzogJ0ludmFsaWQgVmFsdWU6IFwiJXNcIiBmb3IgRmllbGQ6ICVzIChUeXBlOiAlcyknLFxuICB9LFxuICAnbW9kZWwuc2F2ZS5pbnZhbGlkZGVmYXVsdHZhbHVlJzoge1xuICAgIG1zZzogJ0ludmFsaWQgRGVmYXVsdCB2YWx1ZTogXCIlc1wiIGZvciBGaWVsZDogJXMgKFR5cGU6ICVzKScsXG4gIH0sXG4gICdtb2RlbC5zYXZlLmRiZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgZHVyaW5nIHNhdmUgcXVlcnkgb24gREIgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwuc2F2ZS5iZWZvcmUuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYmVmb3JlX3NhdmUgbGlmZWN5Y2xlIGZ1bmN0aW9uIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnNhdmUuYWZ0ZXIuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYWZ0ZXJfc2F2ZSBsaWZlY3ljbGUgZnVuY3Rpb24gLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLnVuc2V0a2V5Jzoge1xuICAgIG1zZzogJ0tleSBGaWVsZDogJXMgbXVzdCBoYXZlIGEgdmFsdWUnLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLnVuc2V0cmVxdWlyZWQnOiB7XG4gICAgbXNnOiAnUmVxdWlyZWQgRmllbGQ6ICVzIG11c3QgaGF2ZSBhIHZhbHVlJyxcbiAgfSxcbiAgJ21vZGVsLnVwZGF0ZS5pbnZhbGlkdmFsdWUnOiB7XG4gICAgbXNnOiAnSW52YWxpZCBWYWx1ZTogXCIlc1wiIGZvciBGaWVsZDogJXMnLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLmludmFsaWRkZWZhdWx0dmFsdWUnOiB7XG4gICAgbXNnOiAnSW52YWxpZCBEZWZhdWx0IHZhbHVlOiBcIiVzXCIgZm9yIEZpZWxkOiAlcyAoVHlwZTogJXMpJyxcbiAgfSxcbiAgJ21vZGVsLnVwZGF0ZS5kYmVycm9yJzoge1xuICAgIG1zZzogJ0Vycm9yIGR1cmluZyB1cGRhdGUgcXVlcnkgb24gREIgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLmJlZm9yZS5lcnJvcic6IHtcbiAgICBtc2c6ICdFcnJvciBpbiBiZWZvcmVfdXBkYXRlIGxpZmVjeWNsZSBmdW5jdGlvbiAtPiAlcycsXG4gIH0sXG4gICdtb2RlbC51cGRhdGUuYWZ0ZXIuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYWZ0ZXJfdXBkYXRlIGxpZmVjeWNsZSBmdW5jdGlvbiAtPiAlcycsXG4gIH0sXG4gICdtb2RlbC5kZWxldGUuaW52YWxpZHZhbHVlJzoge1xuICAgIG1zZzogJ0ludmFsaWQgVmFsdWU6IFwiJXNcIiBmb3IgRmllbGQ6ICVzIChUeXBlOiAlcyknLFxuICB9LFxuICAnbW9kZWwuZGVsZXRlLmRiZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgZHVyaW5nIGRlbGV0ZSBxdWVyeSBvbiBEQiAtPiAlcycsXG4gIH0sXG4gICdtb2RlbC5kZWxldGUuYmVmb3JlLmVycm9yJzoge1xuICAgIG1zZzogJ0Vycm9yIGluIGJlZm9yZV9kZWxldGUgbGlmZWN5Y2xlIGZ1bmN0aW9uIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLmRlbGV0ZS5hZnRlci5lcnJvcic6IHtcbiAgICBtc2c6ICdFcnJvciBpbiBhZnRlcl9kZWxldGUgbGlmZWN5Y2xlIGZ1bmN0aW9uIC0+ICVzJyxcbiAgfSxcbn07XG5cbmNvbnN0IEVSUl9OQU1FX1BSRUZJWCA9ICdhcG9sbG8nO1xuXG5jb25zdCBidWlsZEVycm9yID0gZnVuY3Rpb24gZiguLi5hcmdzKSB7XG4gIGNvbnN0IGFyZ3NhcnJheSA9IGFyZ3M7XG4gIGNvbnN0IG5hbWUgPSBhcmdzYXJyYXkubGVuZ3RoID8gYXJnc2FycmF5LnNoaWZ0KCkgOiAnX25vbmVfZ2l2ZW5fJztcblxuICBjb25zdCBlcnJvclRlbXBsYXRlID0gQUVSUk9SX1RZUEVTW25hbWVdIHx8IEFFUlJPUl9UWVBFUy51bnNwZWNpZmllZDtcbiAgY29uc3QgZXJyb3JNc2cgPSBhcmdzYXJyYXkubGVuZ3RoID9cbiAgICB1dGlsLmZvcm1hdC5hcHBseSh0aGlzLCBbZXJyb3JUZW1wbGF0ZS5tc2ddLmNvbmNhdChhcmdzYXJyYXkpKSA6XG4gICAgZXJyb3JUZW1wbGF0ZS5tc2c7XG5cbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICBlcnJvci5uYW1lID0gKEVSUl9OQU1FX1BSRUZJWCA/IHV0aWwuZm9ybWF0KCclcy4nLCBFUlJfTkFNRV9QUkVGSVgpIDogJycpICsgbmFtZTtcblxuICByZXR1cm4gZXJyb3I7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkRXJyb3I7XG4iXX0=